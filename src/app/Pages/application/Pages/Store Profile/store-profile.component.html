<div class="parent-container">
  <div class="inner-container">
    <div class="overview-container">
      <div class="left-container padding-15">
        <div class="background-image-container">
          <img [src]="store?.backgroundImage" alt="">
        </div>

        <div class="profile-info-container flex justify-start align-start padding-tb-15">
          <div class="image-container flex justify-center align-start">
            <img [src]="store?.profileImage" alt="">
          </div>
          <div class="info-container flex justify-start align-start flex-column padding-lr-15">
            <p class="title text-start font-extra-bold size-large ellipse-1 black">{{store?.name}}</p>
            <p class="timestamp text-start font-regular size-semi-small ellipse-1 gray-dark">Created 2 weeks ago</p>
            <div class="buttons-container flex justify-end align-center relative">
              <div class="button-container flex justify-end align-center margin-l-10">
                <app-button
                  [color]="'gray'"
                  [value]="store?.isAddedToCart? 'Remove from cart' : 'Add to cart'"
                  (click)="addRemoveCart()">
                </app-button>
              </div>
              <div class="button-container flex justify-end align-center margin-l-10">
                <app-button
                  [color]="store?.isFollowed?'red-white' : 'red'"
                  [value]="store?.isFollowed? 'Unfollow' : 'Follow'"
                  (click)="followUnfollow()">
                </app-button>
              </div>
            </div>
          </div>
        </div>

        <div class="profile-description-container margin-tb-30">
          <div class="counters-container flex justify-start align-start flex-wrap">
            <app-badge class="margin-r-10 margin-b-10" [color]="'gray'" [value]="(store?.countOrders | numberFormat) +' Orders'"></app-badge>
            <app-badge class="margin-r-10 margin-b-10" [color]="'gray'" [value]="(store?.countItems | numberFormat) +' Items'"></app-badge>
            <app-badge class="margin-r-10 margin-b-10" [color]="'gray'" [value]="(store?.countFollowers | numberFormat) +' Followers'"></app-badge>
          </div>
          <p class="description text-start font-regular size-small black">
            {{store?.description}}
          </p>
        </div>

        <div class="profile-section-container margin-t-40 margin-b-60">
          <div class="title-container margin-b-30">
            <p class="title text-start font-bold size-medium black">More About {{store?.name}}</p>
          </div>
          <div class="key-value-container flex justify-start align-start margin-tb-15">
            <div class="key-container flex justify-start align-start">
              <div class="icon-container">
                <mat-icon class="icon black" svgIcon="person"></mat-icon>
              </div>
              <div class="text-container padding-lr-10">
                <p class="key text-start font-regular size-small capitalize ellipse-1 black">Owner</p>
              </div>
            </div>
            <div class="value-container flex justify-start align-start">
              <p class="value text-start font-regular size-small blue-dark">{{store?.ownerName}}, <span class="underline">{{store?.ownerEmail}}</span></p>
            </div>
          </div>

          <div class="key-value-container flex justify-start align-start margin-tb-15">
            <div class="key-container flex justify-start align-start">
              <div class="icon-container flex justify-center align-center">
                <mat-icon class="icon black" svgIcon="link"></mat-icon>
              </div>
              <div class="text-container padding-lr-10">
                <p class="key text-start font-regular size-small capitalize ellipse-1 black">Website</p>
              </div>
            </div>
            <div class="value-container flex justify-start align-start">
              <p class="value text-start font-regular size-small underline blue-dark">{{store?.website}}</p>
            </div>
          </div>

          <div class="key-value-container flex justify-start align-start margin-tb-15">
            <div class="key-container flex justify-start align-start">
              <div class="icon-container flex justify-center align-center">
                <mat-icon class="icon black" svgIcon="phone"></mat-icon>
              </div>
              <div class="text-container padding-lr-10">
                <p class="key text-start font-regular size-small capitalize ellipse-1 black">Phone</p>
              </div>
            </div>
            <div class="value-container flex justify-start align-start">
              <p class="value text-start font-regular size-small blue-dark">{{store?.phone}}</p>
            </div>
          </div>

          <div class="key-value-container flex justify-start align-start margin-tb-15">
            <div class="key-container flex justify-start align-start">
              <div class="icon-container flex justify-center align-center">
                <mat-icon class="icon black" svgIcon="mailbox"></mat-icon>
              </div>
              <div class="text-container padding-lr-10">
                <p class="key text-start font-regular size-small capitalize ellipse-1 black">Email</p>
              </div>
            </div>
            <div class="value-container flex justify-start align-start">
              <p class="value text-start font-regular size-small underline blue-dark">{{store?.email}}</p>
            </div>
          </div>

          <div class="key-value-container category-container flex justify-start align-start margin-tb-15">
            <div class="key-container flex justify-start align-start">
              <div class="icon-container flex justify-center align-center">
                <mat-icon class="icon black" svgIcon="list"></mat-icon>
              </div>
              <div class="text-container padding-lr-10">
                <p class="key text-start font-regular size-small capitalize ellipse-1 black">Categories</p>
              </div>
            </div>
            <div class="value-container">
              <app-slider [scrollAmount]="100">
                <div class="chip-container" *ngFor="let category of [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]">
                  <app-chip
                    [color]="'blue'"
                    [value]="'category'">
                  </app-chip>
                </div>
              </app-slider>
            </div>
          </div>
        </div>

        <div class="profile-section-container margin-t-40 margin-b-60">
          <div class="title-container margin-b-30">
            <p class="title text-start font-bold size-medium black">{{store?.name}} Branches</p>
          </div>
          <div class="branches-container flex justify-start align-start">
            <div class="left-container padding-r-30">
              <div class="cards-container">
                <div class="card-container padding-tb-6 margin-tb-10 relative"
                  [ngClass]="{'active': index == activeBranchIndex}"
                  (click)="displaySelectedBranch(branch.latitude, branch.longitude, index)"
                  *ngFor="let branch of store?.branches; let index = index">
                  <p class="location text-start font-medium size-small margin-b-3 capitalize" [ngClass]="{'blue': index == activeBranchIndex}">{{branch?.city}}, {{branch?.country}}</p>
                  <p class="address-details text-start font-regular size-semi-small" [ngClass]="{'blue': index == activeBranchIndex}">{{branch?.addressDetails}}</p>
                  <mat-icon class="icon absolute" [ngClass]="{'blue': index == activeBranchIndex}" svgIcon="location"></mat-icon>
                </div>
              </div>
            </div>
            <div class="right-container">
              <app-map-view #viewMap
                [lat]="store?.displayedBranch[0]"
                [lng]="store?.displayedBranch[1]"
                [zoomControlVisible]="false">
              </app-map-view>
            </div>
          </div>
        </div>
      </div>
      <div class="right-container padding-15">
        <div class="top-selling-items">
          <div class="title-container">
            <p class="title text-start font-bold size-medium capitalize black">Top Selling Items</p>
          </div>
          <app-empty [value]="'No Item Sold'" *ngIf="storeTopItems.length == 0"></app-empty>
          <div class="cards-container flex justify-start align-start flex-wrap margin-tb-10" *ngIf="storeTopItems.length > 0">
            <div class="card-container margin-tb-10" *ngFor="let item of storeTopItems">
              <app-item-entry-card
                [data]="item">
              </app-item-entry-card>
            </div>
          </div>
        </div>
        <div class="video-container flex justify-center align-center flex-column">
          <div class="title-container padding-tb-10">
            <p class="title text-start font-bold size-medium black">Take a tour of {{store?.name}}</p>
          </div>
          <app-video *ngIf="store?.videoUrl"
            [src]="store?.videoUrl"
            [poster]="store?.videoPosterUrl">
          </app-video>
          <div class="no-video-container flex justify-center align-center flex-column" *ngIf="!store?.videoUrl">
            <p class="value text-center font-medium size-medium gray capitalize">No posted video</p>
            <div class="icon-button-container flex justify-center align-center padding-tb-10">
              <div class="button-container flex justify-center align-center padding-t-4 padding-l-4">
                <mat-icon class="icon gray" svgIcon="play"></mat-icon>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
