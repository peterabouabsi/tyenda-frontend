<div class="parent-container">
  <div class="inner-container">
    <div class="header-container flex justify-space-between align-start">
      <div class="text-container flex justify-center align-start">
        <p class="text text-start font-black size-extra-large black">Request Order</p>
      </div>
      <div class="item-to-order-container flex justify-center align-center">
        <app-item-entry-card [data]="itemToOrder" [showStatus]="false"></app-item-entry-card>
      </div>
    </div>

    <div class="body-container padding-lr-50">
      <div class="row-container flex justify-start align-start flex-column margin-t-50">
        <div class="row-header-container padding-tb-30">
          <p class="title text-start font-bold size-regular black">Receiver Name <span
              class="optional-label font-regular size-semi-small red">*optional</span></p>
        </div>
        <div class="checkbox-container flex justify-start align-center">
          <app-single-checkbox [label]="'Another Recipient?'" (clickEvent)="enableDisabledReceiverInputs($event)">
          </app-single-checkbox>
        </div>
        <div class="inputs-container flex justify-start align-start flex-wrap">
          <div class="input-form padding-lr-3 padding-b-10">
            <app-text-field [placeholder]="'Firstname'" [formControl]="requestOrderForm.controls['receiverFirstname']"
              [disabled]="isInputDisabled" (onInputEvent)="setValue('receiverFirstname', $event)">
            </app-text-field>
          </div>
          <div class="input-form padding-lr-3 padding-b-10">
            <app-text-field [placeholder]="'Lastname'" [formControl]="requestOrderForm.controls['receiverLastname']"
              [disabled]="isInputDisabled" (onInputEvent)="setValue('receiverLastname', $event)">
            </app-text-field>
          </div>
          <div class="input-form padding-lr-3 padding-b-10">
            <app-text-field [placeholder]="'Email'" [formControl]="requestOrderForm.controls['receiverEmail']"
              [disabled]="isInputDisabled" (onInputEvent)="setValue('receiverEmail', $event)">
            </app-text-field>
          </div>
          <div class="input-form padding-lr-3 padding-b-10">
            <app-text-field [placeholder]="'Phone Number'" [formControl]="requestOrderForm.controls['receiverPhone']"
              [disabled]="isInputDisabled" (onInputEvent)="setValue('receiverPhone', $event)">
            </app-text-field>
          </div>
        </div>
      </div>
      <div class="row-container margin-t-50">
        <div class="row-header-container padding-tb-10">
          <p class="title text-start font-bold size-regular black">Delivery Location</p>
        </div>
        <div class="inputs-map-container">
          <div class="inputs-container flex justify-start align-start flex-wrap">
            <div class="input-form padding-lr-3">
              <app-select-field [data]="countries" [placeholder]="'Select Country'"
                [formControl]="requestOrderForm.controls['country']" (onSelectEvent)="setValue('country', $event)">
              </app-select-field>
            </div>
            <div class="input-form padding-lr-3">
              <app-select-field [data]="cities" [placeholder]="'Select City'"
                [formControl]="requestOrderForm.controls['city']"
                [disabled]="!requestOrderForm.controls['country'].valid" (onSelectEvent)="setValue('city', $event)">
              </app-select-field>
            </div>
            <div class="input-form input-textarea-form padding-lr-3 margin-tb-20">
              <app-text-area [placeholder]="'Address Details'"
                [formControl]="requestOrderForm.controls['addressDetails']"
                (onInputEvent)="setValue('addressDetails', $event)">
              </app-text-area>
            </div>
            <div class="input-form input-textarea-form padding-lr-3 margin-tb-20">
              <app-text-area [placeholder]="'Add note here...'" [formControl]="requestOrderForm.controls['note']"
                (onInputEvent)="setValue('note', $event)">
              </app-text-area>
            </div>
          </div>
          <div class="map-selector-container">
            <app-map [lat]="requestOrderForm.controls['latitude'].value" [lng]="requestOrderForm.controls['longitude'].value" (mapLatitudeEvent)="setValue('latitude', $event)"
              (mapLongitudeEvent)="setValue('longitude', $event)">
            </app-map>
          </div>
        </div>
      </div>
      <div class="row-container margin-t-50" *ngIf="itemToOrder?.colors?.length > 0 || itemToOrder?.sizes?.length > 0">
        <div class="row-header-container padding-tb-10">
          <p class="title text-start font-bold size-regular black">Ordered Item</p>
        </div>
        <div class="ordered-item-container margin-t-10">
          <div class="box-container padding-r-30"
              *ngIf="itemToOrder?.colors?.length > 0">
            <div class="title-container">
              <p class="title text-start font-medium size-small black">Colors</p>
            </div>
            <div class="box-content-container padding-tb-10 margin-r-10">
              <div class="cards-container flex justify-start align-start flex-wrap">
                <div class="card-container flex justify-start align-start margin-r-3 margin-b-3 disabled"
                    *ngFor="let color of itemToOrder?.colors">
                    <div class="checkbox-container flex justify-center align-center">
                      <app-single-checkbox></app-single-checkbox>
                    </div>
                    <div class="color-container" [ngStyle]="{'background-color': color?.value}"></div>
                    <div class="quantity-container flex justify-center align-center padding-lr-10">
                      <app-button-quantity [quantity]="1" [maxQuantity]="color?.quantity"></app-button-quantity>
                    </div>
                  </div>
              </div>
            </div>
          </div>

          <div class="box-container padding-r-30"
            *ngIf="itemToOrder?.sizes?.length > 0">
            <div class="title-container">
              <p class="title text-start font-medium size-small black">Sizes</p>
            </div>
            <div class="box-content-container padding-tb-10 margin-r-10">
              <div class="cards-container flex justify-start align-start flex-wrap">
                <div class="card-container flex justify-center align-center padding-lr-10 margin-r-3 margin-b-3 disabled"
                    *ngFor="let size of itemToOrder?.sizes">
                    <div class="checkbox-container flex justify-center align-center">
                      <app-single-checkbox></app-single-checkbox>
                    </div>
                    <div class="size-container flex justify-center align-center">
                      <p class="value text-center font-medium size-semi-small gray-dark">{{size?.code? size?.code : 'No. '+size?.number}}</p>
                    </div>
                    <div class="quantity-container flex justify-center align-center padding-lr-10">
                      <app-button-quantity [quantity]="1" [maxQuantity]="size?.quantity"></app-button-quantity>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row-container flex align-center margin-t-100"
          [ngClass]="{'justify-end': itemToOrder?.colors?.length > 0 || itemToOrder?.sizes?.length > 0, 'justify-space-between' : itemToOrder?.colors?.length == 0 && itemToOrder?.sizes?.length == 0}">
        <div class="button-container" *ngIf="itemToOrder?.colors?.length == 0 && itemToOrder?.sizes?.length == 0">
          <p class="text text-start font-medium size-regular padding-t-3 padding-b-3 gray-super-dark">How many pieces?</p>
          <app-button-quantity [quantity]="requestOrderForm.controls['quantity'].value" [maxQuantity]="itemToOrder?.stock" (onCounterClick)="setValue('quantity', $event)"></app-button-quantity>
        </div>
        <div class="button-container">
          <app-button-loader #requestOrderButton [value]="'Request Order'" [config]="buttonConfig" (click)="requestOrder()"></app-button-loader>
        </div>
      </div>
    </div>
  </div>
</div>
